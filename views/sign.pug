extends layout.pug

block content
    link(rel='stylesheet', href='../../css/common.css')
    script(src='https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js')
    script(src='https://code.jquery.com/jquery-3.2.1.min.js', integrity='sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=', crossorigin='anonymous')
    
    div.content-wrapper
        div.cards
            div.card.card-sign_up
                form.input-form
                    div.form-group
                        label(for='exampleFormControlInput1') Sign Up 
                        input#exampleFormControlInput1.form-control.input_signup-email(type='email' placeholder='serval_meow@gmail.com')
                    button.btn.btn-outline-info.btn-block.btn-sign_up(type='submit') Sign Up
            div.card.card-sign_in
                form.input-form
                    div.form-group
                        label(for='exampleFormControlInput1') Sign In 
                        input#exampleFormControlInput1.form-control.input_signin-email(type='email' placeholder='serval_meow@gmail.com')
                    button.btn.btn-outline-info.btn-block.btn-sign_in(type='submit') Sign In
    script.
        $('.btn-sign_up').on('click', function(event) {
            console.log('create_project clicked')
            event.preventDefault();
            const userEmail = $('.input_signup-email').val();

            axios({
                method: 'post',
                url: 'http://localhost:3001/api/1.0/user/signup',
                data: {
                    userEmail: userEmail,
                    userRole: 2,
                },
                headers: {'Content-Type': 'application/json'}
            })
            .then((response) => {
                if (response.status === 200) {
                    //- console.log('response.status: ', response.status);
                    alert('Create account successfully')
                    //- window.location.assign('./testresult');
                }
            })
            .catch((error) => {
                console.log('catch error: ', error)
                alert('Create account error')
            })
        })
